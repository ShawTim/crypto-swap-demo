(this["webpackJsonpcrypto-swap-demo"]=this["webpackJsonpcrypto-swap-demo"]||[]).push([[0],{14:function(t,e,a){t.exports={cryptoBalances:"CryptoBalances_cryptoBalances__1ftal",balanceContainer:"CryptoBalances_balanceContainer__2h8Ib",balanceTitle:"CryptoBalances_balanceTitle__1g5Ay",cryptoList:"CryptoBalances_cryptoList__1fWLn",cryptoListItem:"CryptoBalances_cryptoListItem__miOz8",cryptoNameContainer:"CryptoBalances_cryptoNameContainer__2lVs2",cryptoIcon:"CryptoBalances_cryptoIcon__bQArN",cryptoUSDC:"CryptoBalances_cryptoUSDC__2-PUT",cryptoWBTC:"CryptoBalances_cryptoWBTC__19JUY",cryptoETH:"CryptoBalances_cryptoETH__1dHn4",cryptoName:"CryptoBalances_cryptoName__3IdtO",cryptoNameTitle:"CryptoBalances_cryptoNameTitle__e8VYh",cryptoNameDesc:"CryptoBalances_cryptoNameDesc__2PQkz",cryptoBalanceContainer:"CryptoBalances_cryptoBalanceContainer__pg9mw",cryptoBalance:"CryptoBalances_cryptoBalance__3QPpf",cryptoValue:"CryptoBalances_cryptoValue__3dSlK",cryptoAmount:"CryptoBalances_cryptoAmount__kkc7Q",rightArrow:"CryptoBalances_rightArrow__1dQh6"}},27:function(t,e,a){t.exports={connectWalletPage:"ConnectWalletPage_connectWalletPage__18bAY",connectWalletText:"ConnectWalletPage_connectWalletText__2-1Yb",connectWalletButton:"ConnectWalletPage_connectWalletButton__1JXVy",spacer:"ConnectWalletPage_spacer__1ucgT",text:"ConnectWalletPage_text__X996e",icon:"ConnectWalletPage_icon__3sqC2"}},35:function(t,e,a){t.exports={swapPage:"SwapPage_swapPage__2tOzQ",innerContainer:"SwapPage_innerContainer__1fZbS",cryptoBalances:"SwapPage_cryptoBalances__12Iwu",cryptoSwap:"SwapPage_cryptoSwap__1FMqQ"}},67:function(t,e,a){},69:function(t,e){},7:function(t,e,a){t.exports={cryptoSwap:"CryptoSwap_cryptoSwap__1HNiH",statusINITIAL:"CryptoSwap_statusINITIAL__9loCI",statusREVIEW:"CryptoSwap_statusREVIEW__1btK5",statusAPPROVING:"CryptoSwap_statusAPPROVING__1EWEe",statusAPPROVED:"CryptoSwap_statusAPPROVED__su7xj",statusCONFIRMING:"CryptoSwap_statusCONFIRMING__B8Z0g",swapHeader:"CryptoSwap_swapHeader__25xY2",swapTitle:"CryptoSwap_swapTitle__Wrfev",closeButton:"CryptoSwap_closeButton__t-lYJ",swapBodyContainer:"CryptoSwap_swapBodyContainer__2ZgXx",swapBody:"CryptoSwap_swapBody__t-jPY",swapInnerBody:"CryptoSwap_swapInnerBody__28Sc8",swapCryptoSelectOpen:"CryptoSwap_swapCryptoSelectOpen__3-vwB",swapFromContainer:"CryptoSwap_swapFromContainer__1pdQO",swapFromText:"CryptoSwap_swapFromText__38NDt",maxButton:"CryptoSwap_maxButton__1UIDB",swapFromBalance:"CryptoSwap_swapFromBalance__26nWZ",swapFromAmount:"CryptoSwap_swapFromAmount__1Ys_6",swapFromCryptoSelector:"CryptoSwap_swapFromCryptoSelector__2YjfD",swapFromCryptoName:"CryptoSwap_swapFromCryptoName__wirMY",swapFromCryptoIcon:"CryptoSwap_swapFromCryptoIcon__29ViW",cryptoUSDC:"CryptoSwap_cryptoUSDC__uq6Xt",cryptoWBTC:"CryptoSwap_cryptoWBTC__CfgwO",cryptoETH:"CryptoSwap_cryptoETH__2p7we",downArrow:"CryptoSwap_downArrow__2evlD",toArrow:"CryptoSwap_toArrow__-zzGy",swapToContainer:"CryptoSwap_swapToContainer__1RvV7",swapToText:"CryptoSwap_swapToText__1JZ3o",swapToBalance:"CryptoSwap_swapToBalance__2GOg6",swapToAmount:"CryptoSwap_swapToAmount__1HDsB",swapToCryptoSelector:"CryptoSwap_swapToCryptoSelector__An7fp",swapToCryptoName:"CryptoSwap_swapToCryptoName__17pk-",swapToCryptoIcon:"CryptoSwap_swapToCryptoIcon__3roDc",swapFromCryptoSelectModal:"CryptoSwap_swapFromCryptoSelectModal__Oqq8N",cryptoSelectModalBody:"CryptoSwap_cryptoSelectModalBody__TwRiG",swapToCryptoSelectModal:"CryptoSwap_swapToCryptoSelectModal__BQmpx",cryptoSelectModal:"CryptoSwap_cryptoSelectModal__4aNfe",modalOverlay:"CryptoSwap_modalOverlay__1lgms",cryptoSelectModalTitle:"CryptoSwap_cryptoSelectModalTitle__3fNX5",upArrow:"CryptoSwap_upArrow__3dsWR",cryptoSelectList:"CryptoSwap_cryptoSelectList__D4wh1",cryptoSelectListItem:"CryptoSwap_cryptoSelectListItem__2YBHE",cryptoSelectListItemCryptoContainer:"CryptoSwap_cryptoSelectListItemCryptoContainer__kR3r-",cryptoSelectListItemCryptoIcon:"CryptoSwap_cryptoSelectListItemCryptoIcon__3TKSV",cryptoSelectListItemCryptoNameContainer:"CryptoSwap_cryptoSelectListItemCryptoNameContainer__3qXiR",cryptoSelectListItemCryptoName:"CryptoSwap_cryptoSelectListItemCryptoName__2yQj2",cryptoSelectListItemCryptoDesc:"CryptoSwap_cryptoSelectListItemCryptoDesc__Vdp0-",cryptoSelectListItemBalanceContainer:"CryptoSwap_cryptoSelectListItemBalanceContainer__1-v3A",cryptoSelectListItemValue:"CryptoSwap_cryptoSelectListItemValue__3XT4W",cryptoSelectListItemBalance:"CryptoSwap_cryptoSelectListItemBalance__3vzPd",reviewButton:"CryptoSwap_reviewButton__1Q31m",swapFromCryptoContainer:"CryptoSwap_swapFromCryptoContainer__bUL77",swapFromCryptoAmountContainer:"CryptoSwap_swapFromCryptoAmountContainer__1WHWU",swapFromCryptoAmount:"CryptoSwap_swapFromCryptoAmount__x8r8l",swapToCryptoContainer:"CryptoSwap_swapToCryptoContainer__VR9uM",swapToCryptoAmountContainer:"CryptoSwap_swapToCryptoAmountContainer__1Y0YT",swapToCryptoAmount:"CryptoSwap_swapToCryptoAmount__5D877",swapDetailTitle:"CryptoSwap_swapDetailTitle__31OvK",swapDetailContainer:"CryptoSwap_swapDetailContainer__1kpUL",swapDetailReceivedContainer:"CryptoSwap_swapDetailReceivedContainer__3hz2f",swapDetailReceivedTitle:"CryptoSwap_swapDetailReceivedTitle__3v0Cm",swapDetailReceivedAmount:"CryptoSwap_swapDetailReceivedAmount__2TWF-",swapDetailFeeContainer:"CryptoSwap_swapDetailFeeContainer__3-ixs",swapDetailFeeTitle:"CryptoSwap_swapDetailFeeTitle__qHnbL",swapDetailFeeAmount:"CryptoSwap_swapDetailFeeAmount__w40uR",approveButton:"CryptoSwap_approveButton__QX6Jv",confirmButton:"CryptoSwap_confirmButton__27GOs",cancelButton:"CryptoSwap_cancelButton__3lb9Z"}},78:function(t,e){},91:function(t,e,a){"use strict";a.r(e);var c,o,n,r,s,p,l,i=a(3),u=a.n(i),C=a(36),y=a.n(C),m=(a(67),a(38)),d=a(18),j=a(22),b=a(20),_=a(24),w=a(53),O=a(10),S=a(9),f=a.n(S),N=a(2),T=a.n(N),x=a(32),v={usd:0,btc:0,eth:0},h=function(){var t=Object(x.a)(T.a.mark((function t(){var e,a,c,o,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=["usd","btc","eth"],n="https://api.coingecko.com/api/v3/simple/price?ids=".concat(["bitcoin","wrapped-bitcoin","ethereum","usd-coin"].join(","),"&vs_currencies=").concat(o.join(",")),t.next=5,fetch(n,{cache:"no-cache"});case 5:return r=t.sent,t.next=8,r.json();case 8:return s=t.sent,t.abrupt("return",{USDC:null!==(e=s["usd-coin"])&&void 0!==e?e:v,WBTC:null!==(a=s["wrapped-bitcoin"])&&void 0!==a?a:v,ETH:null!==(c=s.ethereum)&&void 0!==c?c:v});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();!function(t){t.USDC="USDC",t.WBTC="WBTC",t.ETH="ETH"}(l||(l={}));var I,B,A=(c={},Object(O.a)(c,l.USDC,"USDC"),Object(O.a)(c,l.WBTC,"Wrapped Bitcoin"),Object(O.a)(c,l.ETH,"Ethereum"),c),D=(o={},Object(O.a)(o,l.USDC,1),Object(O.a)(o,l.WBTC,.005),Object(O.a)(o,l.ETH,.005),o),g=(p={},Object(O.a)(p,l.USDC,(n={USD:0},Object(O.a)(n,l.USDC,1),Object(O.a)(n,l.WBTC,0),Object(O.a)(n,l.ETH,0),n)),Object(O.a)(p,l.WBTC,(r={USD:0},Object(O.a)(r,l.USDC,0),Object(O.a)(r,l.WBTC,1),Object(O.a)(r,l.ETH,0),r)),Object(O.a)(p,l.ETH,(s={USD:0},Object(O.a)(s,l.USDC,0),Object(O.a)(s,l.WBTC,0),Object(O.a)(s,l.ETH,1),s)),p),W=Object(b.b)("cryptoPrice/getCoinGeckoPrices",h),F=Object(b.c)({name:"cryptoPrice",initialState:g,reducers:{},extraReducers:function(t){t.addCase(W.fulfilled,(function(t,e){var a=f()(1).divide(e.payload[l.USDC].usd||1).value(),c=f()(1).divide(e.payload[l.WBTC].usd||1).value();t[l.USDC].USD=e.payload[l.USDC].usd,t[l.USDC][l.WBTC]=f()(e.payload[l.USDC].usd).multiply(c).value()||0,t[l.USDC][l.ETH]=e.payload[l.USDC].eth,t[l.WBTC].USD=e.payload[l.WBTC].usd,t[l.WBTC][l.USDC]=f()(e.payload[l.WBTC].usd).multiply(a).value()||0,t[l.WBTC][l.ETH]=e.payload[l.WBTC].eth,t[l.ETH].USD=e.payload[l.ETH].usd,t[l.ETH][l.USDC]=f()(e.payload[l.ETH].usd).multiply(a).value()||0,t[l.ETH][l.WBTC]=f()(e.payload[l.ETH].usd).multiply(c).value()||0}))}}).reducer,E=a(46),k=function(){var t=Object(x.a)(T.a.mark((function t(){var e,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window,a=new E.a.providers.Web3Provider(e.ethereum),c=a.getSigner(),t.next=6,c.getAddress();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(x.a)(T.a.mark((function t(){var e,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window,a=new E.a.providers.Web3Provider(e.ethereum),t.next=5,a.send("eth_requestAccounts",[]);case 5:return c=a.getSigner(),t.next=8,c.getAddress();case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(0),console.error(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),P={connectedAddress:void 0,balances:(I={},Object(O.a)(I,l.USDC,1e5),Object(O.a)(I,l.WBTC,1.2568),Object(O.a)(I,l.ETH,21.501),I)},U=Object(b.b)("wallet/initWallet",k),R=Object(b.b)("wallet/connectWallet",L),M=Object(b.c)({name:"wallet",initialState:P,reducers:{doSwap:function(t,e){var a=e.payload,c=a.fromCrypto,o=a.fromAmount,n=a.toCrypto,r=a.toAmount;t.balances[c]=f()(t.balances[c]).subtract(o).value()||0,t.balances[n]=f()(t.balances[n]).add(r).value()||0}},extraReducers:function(t){t.addCase(U.fulfilled,(function(t,e){t.connectedAddress=e.payload})).addCase(U.rejected,(function(t,e){t.connectedAddress=void 0})).addCase(R.fulfilled,(function(t,e){t.connectedAddress=e.payload})).addCase(R.rejected,(function(t,e){t.connectedAddress=void 0}))}}),H=M.actions.doSwap,V=M.reducer;!function(t){t.INITIAL="INITIAL",t.REVIEW="REVIEW",t.APPROVING="APPROVING",t.APPROVED="APPROVED",t.CONFIRMING="CONFIRMING"}(B||(B={}));var G={status:B.INITIAL,fromCrypto:l.USDC,fromAmount:"",toCrypto:l.USDC,isModalOpen:!1},Y=Object(b.c)({name:"swapUI",initialState:G,reducers:{reset:function(t){return G},setStatus:function(t,e){t.status=e.payload},setFromCrypto:function(t,e){t.fromCrypto=e.payload},setFromAmount:function(t,e){t.fromAmount=e.payload},setToCrypto:function(t,e){t.toCrypto=e.payload},setIsModalOpen:function(t,e){t.isModalOpen=e.payload}},extraReducers:function(t){return t}}),Q=Y.actions,X=Q.reset,q=Q.setStatus,z=Q.setFromCrypto,J=Q.setFromAmount,Z=Q.setToCrypto,K=Q.setIsModalOpen,$=Y.reducer,tt=Object(_.a)({basename:"/crypto-swap-demo"}),et=Object(j.b)({router:Object(m.b)(tt),price:F,wallet:V,swapUI:$}),at=Object(b.a)({reducer:et,middleware:function(t){return t().concat(Object(w.a)(tt))}}),ct=a(25),ot=function(){return Object(ct.d)()},nt=ct.e,rt=a(27),st=a.n(rt),pt=a.p+"static/media/metamask.9f907648.svg",lt=a(4),it=function(){var t=ot(),e=nt((function(t){return t.wallet.connectedAddress})),a=Object(i.useCallback)((function(){return t(R())}),[t]);return e?Object(lt.jsx)(d.a,{to:"/swap"}):Object(lt.jsxs)("div",{className:st.a.connectWalletPage,children:[Object(lt.jsx)("span",{className:st.a.connectWalletText,children:"Connect account"}),Object(lt.jsxs)("button",{className:st.a.connectWalletButton,onClick:a,children:[Object(lt.jsx)("span",{className:st.a.icon,children:Object(lt.jsx)("img",{src:pt,alt:"Metamask Logo"})}),Object(lt.jsx)("span",{className:st.a.text,children:"Metamask"}),Object(lt.jsx)("span",{className:st.a.spacer})]})]})},ut=a(14),Ct=a.n(ut),yt=function(t){return Object(lt.jsxs)("li",{className:Ct.a.cryptoListItem,children:[Object(lt.jsxs)("div",{className:Ct.a.cryptoNameContainer,children:[Object(lt.jsx)("div",{className:"".concat(Ct.a.cryptoIcon," ").concat(Ct.a["crypto"+t.crypto])}),Object(lt.jsxs)("div",{className:Ct.a.cryptoName,children:[Object(lt.jsx)("span",{className:Ct.a.cryptoNameTitle,children:t.crypto}),Object(lt.jsx)("span",{className:Ct.a.cryptoNameDesc,children:A[t.crypto]})]})]}),Object(lt.jsxs)("div",{className:Ct.a.cryptoBalanceContainer,children:[Object(lt.jsxs)("div",{className:Ct.a.cryptoBalance,children:[Object(lt.jsx)("span",{className:Ct.a.cryptoValue,children:f()(t.balance).multiply(t.price).format("$0,0.00")}),Object(lt.jsx)("span",{className:Ct.a.cryptoAmount,children:f()(t.balance).format("0,0.00[000000]")})]}),Object(lt.jsx)("button",{className:Ct.a.rightArrow,onClick:t.onSelect,disabled:!t.canSelect})]})]})},mt=function(t){var e,a=t.prices,c=t.balances,o=t.status,n=t.isModalOpen,r=t.onSelectCrypto,s=Object(i.useCallback)((function(){return r(l.USDC)}),[r]),p=Object(i.useCallback)((function(){return r(l.WBTC)}),[r]),u=Object(i.useCallback)((function(){return r(l.ETH)}),[r]);return Object(lt.jsx)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(Ct.a.cryptoBalances),children:Object(lt.jsxs)("div",{className:Ct.a.balanceContainer,children:[Object(lt.jsx)("span",{className:Ct.a.balanceTitle,children:"My funds"}),Object(lt.jsxs)("ul",{className:Ct.a.cryptoList,children:[Object(lt.jsx)(yt,{crypto:l.USDC,balance:c[l.USDC],price:a[l.USDC].USD,canSelect:o===B.INITIAL&&!n,onSelect:s}),Object(lt.jsx)(yt,{crypto:l.WBTC,balance:c[l.WBTC],price:a[l.WBTC].USD,canSelect:o===B.INITIAL&&!n,onSelect:p}),Object(lt.jsx)(yt,{crypto:l.ETH,balance:c[l.ETH],price:a[l.ETH].USD,canSelect:o===B.INITIAL&&!n,onSelect:u})]})]})})},dt=a(13),jt=a(7),bt=a.n(jt),_t=function(t){var e=t.crypto,a=t.price,c=t.balance,o=t.onSelect,n=Object(i.useState)(""),r=Object(dt.a)(n,2),s=r[0],p=r[1],l=Object(i.useCallback)((function(){return o(e)}),[e,o]),u=Object(i.useCallback)((function(t){" "!==t.key&&"Enter"!==t.key||o(e)}),[e,o]);return Object(i.useEffect)((function(){return p(f()(a).multiply(c).format("$0,0.00"))}),[a,c]),Object(lt.jsxs)("li",{className:bt.a.cryptoSelectListItem,tabIndex:0,onClick:l,onKeyUp:u,children:[Object(lt.jsxs)("div",{className:bt.a.cryptoSelectListItemCryptoContainer,children:[Object(lt.jsx)("div",{className:"".concat(bt.a.cryptoSelectListItemCryptoIcon," ").concat(bt.a["crypto"+e])}),Object(lt.jsxs)("div",{className:bt.a.cryptoSelectListItemCryptoNameContainer,children:[Object(lt.jsx)("span",{className:bt.a.cryptoSelectListItemCryptoName,children:e}),Object(lt.jsx)("span",{className:bt.a.cryptoSelectListItemCryptoDesc,children:A[e]})]})]}),Object(lt.jsxs)("div",{className:bt.a.cryptoSelectListItemBalanceContainer,children:[Object(lt.jsx)("span",{className:bt.a.cryptoSelectListItemValue,children:s}),Object(lt.jsx)("span",{className:bt.a.cryptoSelectListItemBalance,children:c})]})]})},wt=function(t){var e;return t.isOpen?Object(lt.jsxs)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(bt.a.cryptoSelectModal),children:[Object(lt.jsx)("div",{className:bt.a.modalOverlay,onClick:t.onClose}),Object(lt.jsxs)("div",{className:bt.a.cryptoSelectModalBody,children:[Object(lt.jsx)("span",{className:bt.a.cryptoSelectModalTitle,children:t.title}),Object(lt.jsx)("button",{className:bt.a.upArrow,onClick:t.onClose}),Object(lt.jsxs)("ul",{className:bt.a.cryptoSelectList,children:[Object(lt.jsx)(_t,{crypto:l.USDC,price:t.prices[l.USDC].USD,balance:t.balances[l.USDC],onSelect:t.onSelectListItem}),Object(lt.jsx)(_t,{crypto:l.WBTC,price:t.prices[l.WBTC].USD,balance:t.balances[l.WBTC],onSelect:t.onSelectListItem}),Object(lt.jsx)(_t,{crypto:l.ETH,price:t.prices[l.ETH].USD,balance:t.balances[l.ETH],onSelect:t.onSelectListItem})]})]})]}):null},Ot=function(t){var e=t.prices,a=t.balances,c=t.uiState,o=t.onChangeSwapStatus,n=t.onChangeFromCrypto,r=t.onChangeFromAmount,s=t.onChangeToCrypto,p=t.onChangeIsModalOpen,l=Object(i.useState)(""),u=Object(dt.a)(l,2),C=u[0],y=u[1],m=Object(i.useState)(""),d=Object(dt.a)(m,2),j=d[0],b=d[1],_=Object(i.useState)(""),w=Object(dt.a)(_,2),O=w[0],S=w[1],N=Object(i.useState)(!0),T=Object(dt.a)(N,2),x=T[0],v=T[1],h=Object(i.useState)(!1),I=Object(dt.a)(h,2),A=I[0],D=I[1],g=Object(i.useState)(!1),W=Object(dt.a)(g,2),F=W[0],E=W[1];Object(i.useEffect)((function(){if((f()(c.fromAmount).value()||0)>0){var t=f()(c.fromAmount).multiply(e[c.fromCrypto][c.toCrypto]);S(t.format("0.00[000000]"))}else S("")}),[e,c,S]),Object(i.useEffect)((function(){return v(0===(f()(c.fromAmount).value()||0)||c.fromCrypto===c.toCrypto)}),[c]),Object(i.useEffect)((function(){return y(f()(a[c.fromCrypto]).format("0,0.00[000000]"))}),[a,c.fromCrypto]),Object(i.useEffect)((function(){return b(f()(a[c.toCrypto]).format("0,0.00[000000]"))}),[a,c.toCrypto]);var k=Object(i.useCallback)((function(){return r("".concat(a[c.fromCrypto]))}),[a,c.fromCrypto,r]),L=Object(i.useCallback)((function(){return o(B.REVIEW)}),[o]),P=Object(i.useCallback)((function(t){if(!t.target.validity.patternMismatch){var e=t.target.value,o=f()(e).value()||0;o>a[c.fromCrypto]?r("".concat(a[c.fromCrypto])):r(o<0?"":e)}}),[a,c.fromCrypto,r]),U=Object(i.useCallback)((function(){D(!1),E(!1),p(!1)}),[]),R=Object(i.useCallback)((function(t){n(t),r(""),U()}),[n,r]),M=Object(i.useCallback)((function(t){s(t),U()}),[s]),H=Object(i.useCallback)((function(){D(!0),E(!1),p(!0)}),[]),V=Object(i.useCallback)((function(){D(!1),E(!0),p(!0)}),[]);return Object(lt.jsxs)("div",{className:bt.a.swapBody,children:[Object(lt.jsxs)("div",{className:"".concat(bt.a.swapInnerBody," ").concat(c.isModalOpen?bt.a.swapCryptoSelectOpen:""),children:[Object(lt.jsxs)("div",{className:bt.a.swapFromContainer,children:[Object(lt.jsx)("span",{className:bt.a.swapFromText,children:"From"}),Object(lt.jsxs)("span",{className:bt.a.swapFromBalance,children:["Balance: ",C]}),Object(lt.jsx)("input",{className:bt.a.swapFromAmount,pattern:"[0-9]*[.]?[0-9]*",placeholder:"0.00",value:c.fromAmount,disabled:c.isModalOpen,onChange:P}),Object(lt.jsx)("button",{className:bt.a.maxButton,onClick:k,disabled:c.isModalOpen,children:"MAX"}),Object(lt.jsxs)("div",{className:bt.a.swapFromCryptoSelector,children:[Object(lt.jsx)("span",{className:bt.a.swapFromCryptoName,children:c.fromCrypto}),Object(lt.jsx)("div",{className:"".concat(bt.a.swapFromCryptoIcon," ").concat(bt.a["crypto"+c.fromCrypto])}),Object(lt.jsx)("button",{className:bt.a.downArrow,onClick:H,disabled:c.isModalOpen})]})]}),Object(lt.jsx)("div",{className:bt.a.toArrow}),Object(lt.jsxs)("div",{className:bt.a.swapToContainer,children:[Object(lt.jsx)("span",{className:bt.a.swapToText,children:"To"}),Object(lt.jsxs)("span",{className:bt.a.swapToBalance,children:["Balance: ",j]}),Object(lt.jsx)("input",{className:bt.a.swapToAmount,tabIndex:-1,placeholder:"0.00",readOnly:!0,value:O}),Object(lt.jsxs)("div",{className:bt.a.swapToCryptoSelector,children:[Object(lt.jsx)("span",{className:bt.a.swapToCryptoName,children:c.toCrypto}),Object(lt.jsx)("div",{className:"".concat(bt.a.swapToCryptoIcon," ").concat(bt.a["crypto"+c.toCrypto])}),Object(lt.jsx)("button",{className:bt.a.downArrow,onClick:V,disabled:c.isModalOpen})]})]})]}),Object(lt.jsx)(wt,{className:bt.a.swapFromCryptoSelectModal,isOpen:A,title:"From",prices:e,balances:a,onClose:U,onSelectListItem:R}),Object(lt.jsx)(wt,{className:bt.a.swapToCryptoSelectModal,isOpen:F,title:"To",prices:e,balances:a,onClose:U,onSelectListItem:M}),Object(lt.jsx)("button",{className:bt.a.reviewButton,disabled:x,onClick:L,children:"Review"})]})},St=function(t){var e=t.prices,a=t.uiState,c=t.onChangeSwapStatus,o=t.onSwap,n=Object(i.useState)(""),r=Object(dt.a)(n,2),s=r[0],p=r[1],l=Object(i.useState)(""),u=Object(dt.a)(l,2),C=u[0],y=u[1],m=Object(i.useState)(""),d=Object(dt.a)(m,2),j=d[0],b=d[1],_=Object(i.useState)(""),w=Object(dt.a)(_,2),O=w[0],S=w[1],N=Object(i.useState)(""),T=Object(dt.a)(N,2),x=T[0],v=T[1];Object(i.useEffect)((function(){return p(f()(a.fromAmount).format("0,0.00[000000]"))}),[a.fromAmount]),Object(i.useEffect)((function(){if((f()(a.fromAmount).value()||0)>0){var t=f()(a.fromAmount).multiply(e[a.fromCrypto][a.toCrypto]);y(t.format("0.00[000000]")),b(t.subtract(D[a.toCrypto]).format("0.00[000000]"))}else y("0.00"),b("0.00")}),[e,a.fromAmount,a.fromCrypto,a.toCrypto,y]),Object(i.useEffect)((function(){return S(f()(D[a.toCrypto]).format("0,0.00[000000]"))}),[a.toCrypto]);var h=Object(i.useCallback)((function(){c(B.APPROVING),setTimeout((function(){return c(B.APPROVED)}),2e3)}),[c]),I=Object(i.useCallback)((function(){c(B.CONFIRMING),setTimeout(o,2e3)}),[c,o]),A=Object(i.useCallback)((function(){return c(B.INITIAL)}),[c]);return a.status!==B.APPROVING&&a.status!==B.CONFIRMING||setTimeout((function(){return v(x.length>=3?"":x+".")}),300),Object(lt.jsxs)("div",{className:bt.a.swapBody,children:[Object(lt.jsxs)("div",{className:bt.a.swapInnerBody,children:[Object(lt.jsxs)("div",{className:bt.a.swapFromCryptoContainer,children:[Object(lt.jsxs)("div",{className:bt.a.swapFromCryptoAmountContainer,children:[Object(lt.jsx)("div",{className:"".concat(bt.a.swapFromCryptoIcon," ").concat(bt.a["crypto"+a.fromCrypto])}),Object(lt.jsx)("span",{className:bt.a.swapFromCryptoAmount,children:s})]}),Object(lt.jsx)("span",{className:bt.a.swapFromCryptoName,children:a.fromCrypto})]}),Object(lt.jsx)("div",{className:bt.a.toArrow}),Object(lt.jsxs)("div",{className:bt.a.swapToCryptoContainer,children:[Object(lt.jsxs)("div",{className:bt.a.swapToCryptoAmountContainer,children:[Object(lt.jsx)("div",{className:"".concat(bt.a.swapToCryptoIcon," ").concat(bt.a["crypto"+a.toCrypto])}),Object(lt.jsx)("span",{className:bt.a.swapToCryptoAmount,children:C})]}),Object(lt.jsx)("span",{className:bt.a.swapToCryptoName,children:a.toCrypto})]}),Object(lt.jsx)("span",{className:bt.a.swapDetailTitle,children:"Details"}),Object(lt.jsxs)("div",{className:bt.a.swapDetailContainer,children:[Object(lt.jsxs)("div",{className:bt.a.swapDetailReceivedContainer,children:[Object(lt.jsx)("span",{className:bt.a.swapDetailReceivedTitle,children:"Minimum recieved"}),Object(lt.jsxs)("span",{className:bt.a.swapDetailReceivedAmount,children:[j," ",a.toCrypto]})]}),Object(lt.jsxs)("div",{className:bt.a.swapDetailFeeContainer,children:[Object(lt.jsx)("span",{className:bt.a.swapDetailFeeTitle,children:"Network & Protocol fees"}),Object(lt.jsxs)("span",{className:bt.a.swapDetailFeeAmount,children:[O," ",a.toCrypto]})]})]})]}),a.status===B.REVIEW&&Object(lt.jsx)("button",{className:bt.a.approveButton,onClick:h,children:"Approve Swap"}),a.status===B.APPROVING&&Object(lt.jsxs)("button",{className:bt.a.approveButton,disabled:!0,children:["Approve in wallet",x]}),a.status===B.APPROVED&&Object(lt.jsx)("button",{className:bt.a.confirmButton,onClick:I,children:"Confirm Swap"}),a.status===B.CONFIRMING&&Object(lt.jsxs)("button",{className:bt.a.confirmButton,disabled:!0,children:["Confirm in wallet",x]}),Object(lt.jsx)("button",{className:bt.a.cancelButton,onClick:A,children:"Cancel"})]})},ft=function(t){var e,a=t.prices,c=t.balances,o=t.uiState,n=t.onChangeSwapStatus,r=t.onChangeFromCrypto,s=t.onChangeFromAmount,p=t.onChangeToCrypto,l=t.onChangeIsModalOpen,u=t.onSwap,C=Object(i.useState)(""),y=Object(dt.a)(C,2),m=y[0],d=y[1];Object(i.useEffect)((function(){switch(o.status){case B.INITIAL:d("Swap");break;case B.REVIEW:case B.APPROVING:d("Approve Swap");break;case B.APPROVED:case B.CONFIRMING:d("Confirm Swap")}}),[o.status]);var j=Object(i.useCallback)((function(){return n(B.INITIAL)}),[n]);return Object(lt.jsxs)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(bt.a.cryptoSwap," ").concat(bt.a["status"+o.status]),children:[Object(lt.jsxs)("div",{className:bt.a.swapHeader,children:[Object(lt.jsx)("span",{className:bt.a.swapTitle,children:m}),o.status!==B.INITIAL&&Object(lt.jsx)("button",{className:bt.a.closeButton,onClick:j})]}),Object(lt.jsxs)("div",{className:"".concat(bt.a.swapBodyContainer," ").concat(bt.a["status"+o.status]),children:[o.status===B.INITIAL&&Object(lt.jsx)(Ot,{balances:c,prices:a,uiState:o,onChangeSwapStatus:n,onChangeFromCrypto:r,onChangeFromAmount:s,onChangeToCrypto:p,onChangeIsModalOpen:l}),o.status!==B.INITIAL&&Object(lt.jsx)(St,{balances:c,prices:a,uiState:o,onChangeSwapStatus:n,onSwap:u})]})]})},Nt=a(35),Tt=a.n(Nt),xt=function(){var t=ot(),e=nt((function(t){return t.wallet.connectedAddress})),a=nt((function(t){return t.wallet.balances})),c=nt((function(t){return t.price})),o=nt((function(t){return t.swapUI})),n=Object(i.useCallback)((function(){return t(W())}),[t]),r=Object(i.useCallback)((function(e){return t(q(e))}),[t]),s=Object(i.useCallback)((function(e){return t(z(e))}),[t]),p=Object(i.useCallback)((function(e){return t(J(e))}),[t]),l=Object(i.useCallback)((function(e){return t(Z(e))}),[t]),u=Object(i.useCallback)((function(e){return t(K(e))}),[t]),C=Object(i.useCallback)((function(e){t(z(e)),t(J(""))}),[t]),y=Object(i.useCallback)((function(){var e=o.fromCrypto,a=o.fromAmount,n=o.toCrypto,r=f()(a).multiply(c[e][n]).value()||0;t(H({fromCrypto:e,fromAmount:f()(a).value()||0,toCrypto:n,toAmount:r})),t(X())}),[t,c,o]);return Object(i.useEffect)((function(){if(e){n();var t=setInterval(n,3e4);return function(){return clearInterval(t)}}}),[e,n]),e?Object(lt.jsx)("div",{className:Tt.a.swapPage,children:Object(lt.jsxs)("div",{className:Tt.a.innerContainer,children:[Object(lt.jsx)(mt,{className:Tt.a.cryptoBalances,balances:a,prices:c,status:o.status,isModalOpen:o.isModalOpen,onSelectCrypto:C}),Object(lt.jsx)(ft,{className:Tt.a.cryptoSwap,balances:a,prices:c,uiState:o,onChangeSwapStatus:r,onChangeFromCrypto:s,onChangeFromAmount:p,onChangeToCrypto:l,onChangeIsModalOpen:u,onSwap:y})]})}):Object(lt.jsx)(d.a,{to:"/"})},vt=(a(90),function(){var t=ot();return Object(i.useEffect)((function(){t(U())}),[t]),Object(lt.jsx)(m.a,{history:tt,children:Object(lt.jsxs)(d.d,{children:[Object(lt.jsx)(d.b,{path:"/swap",render:function(){return Object(lt.jsx)(xt,{})}}),Object(lt.jsx)(d.b,{path:"/",render:function(){return Object(lt.jsx)(it,{})}})]})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));y.a.render(Object(lt.jsx)(u.a.StrictMode,{children:Object(lt.jsx)(ct.a,{store:at,children:Object(lt.jsx)(vt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.2fb4c9fd.chunk.js.map