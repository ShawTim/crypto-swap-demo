(this["webpackJsonpcrypto-swap-demo"]=this["webpackJsonpcrypto-swap-demo"]||[]).push([[0],{14:function(t,e,a){t.exports={cryptoBalances:"CryptoBalances_cryptoBalances__1ftal",balanceContainer:"CryptoBalances_balanceContainer__2h8Ib",balanceTitle:"CryptoBalances_balanceTitle__1g5Ay",cryptoList:"CryptoBalances_cryptoList__1fWLn",cryptoListItem:"CryptoBalances_cryptoListItem__miOz8",cryptoNameContainer:"CryptoBalances_cryptoNameContainer__2lVs2",cryptoIcon:"CryptoBalances_cryptoIcon__bQArN",cryptoUSDC:"CryptoBalances_cryptoUSDC__2-PUT",cryptoWBTC:"CryptoBalances_cryptoWBTC__19JUY",cryptoETH:"CryptoBalances_cryptoETH__1dHn4",cryptoName:"CryptoBalances_cryptoName__3IdtO",cryptoNameTitle:"CryptoBalances_cryptoNameTitle__e8VYh",cryptoNameDesc:"CryptoBalances_cryptoNameDesc__2PQkz",cryptoBalanceContainer:"CryptoBalances_cryptoBalanceContainer__pg9mw",cryptoBalance:"CryptoBalances_cryptoBalance__3QPpf",cryptoValue:"CryptoBalances_cryptoValue__3dSlK",cryptoAmount:"CryptoBalances_cryptoAmount__kkc7Q",rightArrow:"CryptoBalances_rightArrow__1dQh6"}},27:function(t,e,a){t.exports={connectWalletPage:"ConnectWalletPage_connectWalletPage__18bAY",connectWalletText:"ConnectWalletPage_connectWalletText__2-1Yb",connectWalletButton:"ConnectWalletPage_connectWalletButton__1JXVy",spacer:"ConnectWalletPage_spacer__1ucgT",text:"ConnectWalletPage_text__X996e",icon:"ConnectWalletPage_icon__3sqC2"}},35:function(t,e,a){t.exports={swapPage:"SwapPage_swapPage__2tOzQ",innerContainer:"SwapPage_innerContainer__1fZbS",cryptoBalances:"SwapPage_cryptoBalances__12Iwu",cryptoSwap:"SwapPage_cryptoSwap__1FMqQ"}},67:function(t,e,a){},69:function(t,e){},7:function(t,e,a){t.exports={cryptoSwap:"CryptoSwap_cryptoSwap__1HNiH",statusINITIAL:"CryptoSwap_statusINITIAL__9loCI",statusREVIEW:"CryptoSwap_statusREVIEW__1btK5",statusAPPROVING:"CryptoSwap_statusAPPROVING__1EWEe",statusAPPROVED:"CryptoSwap_statusAPPROVED__su7xj",statusCONFIRMING:"CryptoSwap_statusCONFIRMING__B8Z0g",swapHeader:"CryptoSwap_swapHeader__25xY2",swapTitle:"CryptoSwap_swapTitle__Wrfev",closeButton:"CryptoSwap_closeButton__t-lYJ",swapBodyContainer:"CryptoSwap_swapBodyContainer__2ZgXx",swapBody:"CryptoSwap_swapBody__t-jPY",swapInnerBody:"CryptoSwap_swapInnerBody__28Sc8",swapCryptoSelectOpen:"CryptoSwap_swapCryptoSelectOpen__3-vwB",swapFromContainer:"CryptoSwap_swapFromContainer__1pdQO",swapFromText:"CryptoSwap_swapFromText__38NDt",maxButton:"CryptoSwap_maxButton__1UIDB",swapFromBalance:"CryptoSwap_swapFromBalance__26nWZ",swapFromAmount:"CryptoSwap_swapFromAmount__1Ys_6",swapFromCryptoSelector:"CryptoSwap_swapFromCryptoSelector__2YjfD",swapFromCryptoName:"CryptoSwap_swapFromCryptoName__wirMY",swapFromCryptoIcon:"CryptoSwap_swapFromCryptoIcon__29ViW",cryptoUSDC:"CryptoSwap_cryptoUSDC__uq6Xt",cryptoWBTC:"CryptoSwap_cryptoWBTC__CfgwO",cryptoETH:"CryptoSwap_cryptoETH__2p7we",downArrow:"CryptoSwap_downArrow__2evlD",toArrow:"CryptoSwap_toArrow__-zzGy",swapToContainer:"CryptoSwap_swapToContainer__1RvV7",swapToText:"CryptoSwap_swapToText__1JZ3o",swapToBalance:"CryptoSwap_swapToBalance__2GOg6",swapToAmount:"CryptoSwap_swapToAmount__1HDsB",swapToCryptoSelector:"CryptoSwap_swapToCryptoSelector__An7fp",swapToCryptoName:"CryptoSwap_swapToCryptoName__17pk-",swapToCryptoIcon:"CryptoSwap_swapToCryptoIcon__3roDc",swapFromCryptoSelectModal:"CryptoSwap_swapFromCryptoSelectModal__Oqq8N",cryptoSelectModalBody:"CryptoSwap_cryptoSelectModalBody__TwRiG",swapToCryptoSelectModal:"CryptoSwap_swapToCryptoSelectModal__BQmpx",cryptoSelectModal:"CryptoSwap_cryptoSelectModal__4aNfe",modalOverlay:"CryptoSwap_modalOverlay__1lgms",cryptoSelectModalTitle:"CryptoSwap_cryptoSelectModalTitle__3fNX5",upArrow:"CryptoSwap_upArrow__3dsWR",cryptoSelectList:"CryptoSwap_cryptoSelectList__D4wh1",cryptoSelectListItem:"CryptoSwap_cryptoSelectListItem__2YBHE",cryptoSelectListItemCryptoContainer:"CryptoSwap_cryptoSelectListItemCryptoContainer__kR3r-",cryptoSelectListItemCryptoIcon:"CryptoSwap_cryptoSelectListItemCryptoIcon__3TKSV",cryptoSelectListItemCryptoNameContainer:"CryptoSwap_cryptoSelectListItemCryptoNameContainer__3qXiR",cryptoSelectListItemCryptoName:"CryptoSwap_cryptoSelectListItemCryptoName__2yQj2",cryptoSelectListItemCryptoDesc:"CryptoSwap_cryptoSelectListItemCryptoDesc__Vdp0-",cryptoSelectListItemBalanceContainer:"CryptoSwap_cryptoSelectListItemBalanceContainer__1-v3A",cryptoSelectListItemValue:"CryptoSwap_cryptoSelectListItemValue__3XT4W",cryptoSelectListItemBalance:"CryptoSwap_cryptoSelectListItemBalance__3vzPd",reviewButton:"CryptoSwap_reviewButton__1Q31m",swapFromCryptoContainer:"CryptoSwap_swapFromCryptoContainer__bUL77",swapFromCryptoAmountContainer:"CryptoSwap_swapFromCryptoAmountContainer__1WHWU",swapFromCryptoAmount:"CryptoSwap_swapFromCryptoAmount__x8r8l",swapToCryptoContainer:"CryptoSwap_swapToCryptoContainer__VR9uM",swapToCryptoAmountContainer:"CryptoSwap_swapToCryptoAmountContainer__1Y0YT",swapToCryptoAmount:"CryptoSwap_swapToCryptoAmount__5D877",swapDetailTitle:"CryptoSwap_swapDetailTitle__31OvK",swapDetailContainer:"CryptoSwap_swapDetailContainer__1kpUL",swapDetailReceivedContainer:"CryptoSwap_swapDetailReceivedContainer__3hz2f",swapDetailReceivedTitle:"CryptoSwap_swapDetailReceivedTitle__3v0Cm",swapDetailReceivedAmount:"CryptoSwap_swapDetailReceivedAmount__2TWF-",swapDetailFeeContainer:"CryptoSwap_swapDetailFeeContainer__3-ixs",swapDetailFeeTitle:"CryptoSwap_swapDetailFeeTitle__qHnbL",swapDetailFeeAmount:"CryptoSwap_swapDetailFeeAmount__w40uR",approveButton:"CryptoSwap_approveButton__QX6Jv",confirmButton:"CryptoSwap_confirmButton__27GOs",cancelButton:"CryptoSwap_cancelButton__3lb9Z"}},78:function(t,e){},91:function(t,e,a){"use strict";a.r(e);var c,o,n,r,s,p,l,i=a(3),u=a.n(i),C=a(36),y=a.n(C),m=(a(67),a(38)),j=a(18),b=a(22),d=a(20),_=a(24),w=a(53),O=a(10),S=a(9),f=a.n(S),N=a(2),T=a.n(N),v=a(32),x={usd:0,btc:0,eth:0},h=function(){var t=Object(v.a)(T.a.mark((function t(){var e,a,c,o,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=["usd","btc","eth"],n="https://api.coingecko.com/api/v3/simple/price?ids=".concat(["bitcoin","wrapped-bitcoin","ethereum","usd-coin"].join(","),"&vs_currencies=").concat(o.join(",")),t.next=5,fetch(n,{cache:"no-cache"});case 5:return r=t.sent,t.next=8,r.json();case 8:return s=t.sent,t.abrupt("return",{USDC:null!==(e=s["usd-coin"])&&void 0!==e?e:x,WBTC:null!==(a=s["wrapped-bitcoin"])&&void 0!==a?a:x,ETH:null!==(c=s.ethereum)&&void 0!==c?c:x});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();!function(t){t.USDC="USDC",t.WBTC="WBTC",t.ETH="ETH"}(l||(l={}));var I,B,A=(c={},Object(O.a)(c,l.USDC,"USDC"),Object(O.a)(c,l.WBTC,"Wrapped Bitcoin"),Object(O.a)(c,l.ETH,"Ethereum"),c),D=(o={},Object(O.a)(o,l.USDC,1),Object(O.a)(o,l.WBTC,.005),Object(O.a)(o,l.ETH,.005),o),W=(p={},Object(O.a)(p,l.USDC,(n={USD:0},Object(O.a)(n,l.USDC,1),Object(O.a)(n,l.WBTC,0),Object(O.a)(n,l.ETH,0),n)),Object(O.a)(p,l.WBTC,(r={USD:0},Object(O.a)(r,l.USDC,0),Object(O.a)(r,l.WBTC,1),Object(O.a)(r,l.ETH,0),r)),Object(O.a)(p,l.ETH,(s={USD:0},Object(O.a)(s,l.USDC,0),Object(O.a)(s,l.WBTC,0),Object(O.a)(s,l.ETH,1),s)),p),F=Object(d.b)("cryptoPrice/getCoinGeckoPrices",h),E=Object(d.c)({name:"cryptoPrice",initialState:W,reducers:{},extraReducers:function(t){t.addCase(F.fulfilled,(function(t,e){var a=f()(1).divide(e.payload[l.USDC].usd||1).value(),c=f()(1).divide(e.payload[l.WBTC].usd||1).value();t[l.USDC].USD=e.payload[l.USDC].usd,t[l.USDC][l.WBTC]=f()(e.payload[l.USDC].usd).multiply(c).value()||0,t[l.USDC][l.ETH]=e.payload[l.USDC].eth,t[l.WBTC].USD=e.payload[l.WBTC].usd,t[l.WBTC][l.USDC]=f()(e.payload[l.WBTC].usd).multiply(a).value()||0,t[l.WBTC][l.ETH]=e.payload[l.WBTC].eth,t[l.ETH].USD=e.payload[l.ETH].usd,t[l.ETH][l.USDC]=f()(e.payload[l.ETH].usd).multiply(a).value()||0,t[l.ETH][l.WBTC]=f()(e.payload[l.ETH].usd).multiply(c).value()||0}))}}).reducer,g=a(46),L=function(){var t=Object(v.a)(T.a.mark((function t(){var e,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window,a=new g.a.providers.Web3Provider(e.ethereum),c=a.getSigner(),t.next=6,c.getAddress();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(v.a)(T.a.mark((function t(){var e,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window,a=new g.a.providers.Web3Provider(e.ethereum),t.next=5,a.send("eth_requestAccounts",[]);case 5:return c=a.getSigner(),t.next=8,c.getAddress();case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(0),console.error(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),P={connectedAddress:void 0,balances:(I={},Object(O.a)(I,l.USDC,1e5),Object(O.a)(I,l.WBTC,1.2568),Object(O.a)(I,l.ETH,21.501),I)},U=Object(d.b)("wallet/initWallet",L),R=Object(d.b)("wallet/connectWallet",k),H=Object(d.c)({name:"wallet",initialState:P,reducers:{doSwap:function(t,e){var a=e.payload,c=a.fromCrypto,o=a.fromAmount,n=a.toCrypto,r=a.toAmount;t.balances[c]=f()(t.balances[c]).subtract(o).value()||0,t.balances[n]=f()(t.balances[n]).add(r).value()||0}},extraReducers:function(t){t.addCase(U.fulfilled,(function(t,e){t.connectedAddress=e.payload})).addCase(U.rejected,(function(t,e){t.connectedAddress=void 0})).addCase(R.fulfilled,(function(t,e){t.connectedAddress=e.payload})).addCase(R.rejected,(function(t,e){t.connectedAddress=void 0}))}}),V=H.actions.doSwap,M=H.reducer;!function(t){t.INITIAL="INITIAL",t.REVIEW="REVIEW",t.APPROVING="APPROVING",t.APPROVED="APPROVED",t.CONFIRMING="CONFIRMING"}(B||(B={}));var G={status:B.INITIAL,fromCrypto:l.USDC,fromAmount:"",toCrypto:l.USDC},Y=Object(d.c)({name:"swapUI",initialState:G,reducers:{reset:function(t){return G},setStatus:function(t,e){t.status=e.payload},setFromCrypto:function(t,e){t.fromCrypto=e.payload},setFromAmount:function(t,e){t.fromAmount=e.payload},setToCrypto:function(t,e){t.toCrypto=e.payload}},extraReducers:function(t){return t}}),Q=Y.actions,X=Q.reset,q=Q.setStatus,z=Q.setFromCrypto,J=Q.setFromAmount,Z=Q.setToCrypto,K=Y.reducer,$=Object(_.a)({basename:"/crypto-swap-demo"}),tt=Object(b.b)({router:Object(m.b)($),price:E,wallet:M,swapUI:K}),et=Object(d.a)({reducer:tt,middleware:function(t){return t().concat(Object(w.a)($))}}),at=a(25),ct=function(){return Object(at.d)()},ot=at.e,nt=a(27),rt=a.n(nt),st=a.p+"static/media/metamask.9f907648.svg",pt=a(4),lt=function(){var t=ct(),e=ot((function(t){return t.wallet.connectedAddress})),a=Object(i.useCallback)((function(){return t(R())}),[t]);return e?Object(pt.jsx)(j.a,{to:"/swap"}):Object(pt.jsxs)("div",{className:rt.a.connectWalletPage,children:[Object(pt.jsx)("span",{className:rt.a.connectWalletText,children:"Connect account"}),Object(pt.jsxs)("button",{className:rt.a.connectWalletButton,onClick:a,children:[Object(pt.jsx)("span",{className:rt.a.icon,children:Object(pt.jsx)("img",{src:st,alt:"Metamask Logo"})}),Object(pt.jsx)("span",{className:rt.a.text,children:"Metamask"}),Object(pt.jsx)("span",{className:rt.a.spacer})]})]})},it=a(14),ut=a.n(it),Ct=function(t){return Object(pt.jsxs)("li",{className:ut.a.cryptoListItem,children:[Object(pt.jsxs)("div",{className:ut.a.cryptoNameContainer,children:[Object(pt.jsx)("div",{className:"".concat(ut.a.cryptoIcon," ").concat(ut.a["crypto"+t.crypto])}),Object(pt.jsxs)("div",{className:ut.a.cryptoName,children:[Object(pt.jsx)("span",{className:ut.a.cryptoNameTitle,children:t.crypto}),Object(pt.jsx)("span",{className:ut.a.cryptoNameDesc,children:A[t.crypto]})]})]}),Object(pt.jsxs)("div",{className:ut.a.cryptoBalanceContainer,children:[Object(pt.jsxs)("div",{className:ut.a.cryptoBalance,children:[Object(pt.jsx)("span",{className:ut.a.cryptoValue,children:f()(t.balance).multiply(t.price).format("$0,0.00")}),Object(pt.jsx)("span",{className:ut.a.cryptoAmount,children:f()(t.balance).format("0,0.00[000000]")})]}),Object(pt.jsx)("button",{className:ut.a.rightArrow,onClick:t.onSelect,disabled:!t.canSelect})]})]})},yt=function(t){var e,a=t.prices,c=t.balances,o=t.status,n=t.onSelectCrypto,r=Object(i.useCallback)((function(){return n(l.USDC)}),[n]),s=Object(i.useCallback)((function(){return n(l.WBTC)}),[n]),p=Object(i.useCallback)((function(){return n(l.ETH)}),[n]);return Object(pt.jsx)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(ut.a.cryptoBalances),children:Object(pt.jsxs)("div",{className:ut.a.balanceContainer,children:[Object(pt.jsx)("span",{className:ut.a.balanceTitle,children:"My funds"}),Object(pt.jsxs)("ul",{className:ut.a.cryptoList,children:[Object(pt.jsx)(Ct,{crypto:l.USDC,balance:c[l.USDC],price:a[l.USDC].USD,canSelect:o===B.INITIAL,onSelect:r}),Object(pt.jsx)(Ct,{crypto:l.WBTC,balance:c[l.WBTC],price:a[l.WBTC].USD,canSelect:o===B.INITIAL,onSelect:s}),Object(pt.jsx)(Ct,{crypto:l.ETH,balance:c[l.ETH],price:a[l.ETH].USD,canSelect:o===B.INITIAL,onSelect:p})]})]})})},mt=a(13),jt=a(7),bt=a.n(jt),dt=function(t){var e=t.crypto,a=t.price,c=t.balance,o=t.onSelect,n=Object(i.useState)(""),r=Object(mt.a)(n,2),s=r[0],p=r[1],l=Object(i.useCallback)((function(){return o(e)}),[e,o]);return Object(i.useEffect)((function(){return p(f()(a).multiply(c).format("$0,0.00[000000]"))}),[a,c]),Object(pt.jsxs)("li",{className:bt.a.cryptoSelectListItem,onClick:l,children:[Object(pt.jsxs)("div",{className:bt.a.cryptoSelectListItemCryptoContainer,children:[Object(pt.jsx)("div",{className:"".concat(bt.a.cryptoSelectListItemCryptoIcon," ").concat(bt.a["crypto"+e])}),Object(pt.jsxs)("div",{className:bt.a.cryptoSelectListItemCryptoNameContainer,children:[Object(pt.jsx)("span",{className:bt.a.cryptoSelectListItemCryptoName,children:e}),Object(pt.jsx)("span",{className:bt.a.cryptoSelectListItemCryptoDesc,children:A[e]})]})]}),Object(pt.jsxs)("div",{className:bt.a.cryptoSelectListItemBalanceContainer,children:[Object(pt.jsx)("span",{className:bt.a.cryptoSelectListItemValue,children:s}),Object(pt.jsx)("span",{className:bt.a.cryptoSelectListItemBalance,children:c})]})]})},_t=function(t){var e;return t.isOpen?Object(pt.jsxs)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(bt.a.cryptoSelectModal),children:[Object(pt.jsx)("div",{className:bt.a.modalOverlay,onClick:t.onClose}),Object(pt.jsxs)("div",{className:bt.a.cryptoSelectModalBody,children:[Object(pt.jsx)("span",{className:bt.a.cryptoSelectModalTitle,children:t.title}),Object(pt.jsx)("button",{className:bt.a.upArrow,onClick:t.onClose}),Object(pt.jsxs)("ul",{className:bt.a.cryptoSelectList,children:[Object(pt.jsx)(dt,{crypto:l.USDC,price:t.prices[l.USDC].USD,balance:t.balances[l.USDC],onSelect:t.onSelectListItem}),Object(pt.jsx)(dt,{crypto:l.WBTC,price:t.prices[l.WBTC].USD,balance:t.balances[l.WBTC],onSelect:t.onSelectListItem}),Object(pt.jsx)(dt,{crypto:l.ETH,price:t.prices[l.ETH].USD,balance:t.balances[l.ETH],onSelect:t.onSelectListItem})]})]})]}):null},wt=function(t){var e=t.prices,a=t.balances,c=t.uiState,o=t.onChangeSwapStatus,n=t.onChangeFromCrypto,r=t.onChangeFromAmount,s=t.onChangeToCrypto,p=Object(i.useState)(""),l=Object(mt.a)(p,2),u=l[0],C=l[1],y=Object(i.useState)(""),m=Object(mt.a)(y,2),j=m[0],b=m[1],d=Object(i.useState)(""),_=Object(mt.a)(d,2),w=_[0],O=_[1],S=Object(i.useState)(!0),N=Object(mt.a)(S,2),T=N[0],v=N[1],x=Object(i.useState)(!1),h=Object(mt.a)(x,2),I=h[0],A=h[1],D=Object(i.useState)(!1),W=Object(mt.a)(D,2),F=W[0],E=W[1];Object(i.useEffect)((function(){if((f()(c.fromAmount).value()||0)>0){var t=f()(c.fromAmount).multiply(e[c.fromCrypto][c.toCrypto]);O(t.format("0.00[000000]"))}else O("")}),[e,c,O]),Object(i.useEffect)((function(){return v(0===(f()(c.fromAmount).value()||0)||c.fromCrypto===c.toCrypto)}),[c]),Object(i.useEffect)((function(){return C(f()(a[c.fromCrypto]).format("0,0.00[000000]"))}),[a,c.fromCrypto]),Object(i.useEffect)((function(){return b(f()(a[c.toCrypto]).format("0,0.00[000000]"))}),[a,c.toCrypto]);var g=Object(i.useCallback)((function(){return r("".concat(a[c.fromCrypto]))}),[a,c.fromCrypto,r]),L=Object(i.useCallback)((function(){return o(B.REVIEW)}),[o]),k=Object(i.useCallback)((function(t){if(!t.target.validity.patternMismatch){var e=t.target.value,o=f()(e).value()||0;o>a[c.fromCrypto]?r("".concat(a[c.fromCrypto])):r(o<=0?"":e)}}),[a,c.fromCrypto,r]),P=Object(i.useCallback)((function(t){n(t),r(""),A(!1)}),[n,r]),U=Object(i.useCallback)((function(t){s(t),E(!1)}),[s]),R=Object(i.useCallback)((function(){A(!0),E(!1)}),[]),H=Object(i.useCallback)((function(){return A(!1)}),[]),V=Object(i.useCallback)((function(){A(!1),E(!0)}),[]),M=Object(i.useCallback)((function(){return E(!1)}),[]);return Object(pt.jsxs)("div",{className:bt.a.swapBody,children:[Object(pt.jsxs)("div",{className:"".concat(bt.a.swapInnerBody," ").concat(I||F?bt.a.swapCryptoSelectOpen:""),children:[Object(pt.jsxs)("div",{className:bt.a.swapFromContainer,children:[Object(pt.jsx)("span",{className:bt.a.swapFromText,children:"From"}),Object(pt.jsxs)("span",{className:bt.a.swapFromBalance,children:["Balance: ",u]}),Object(pt.jsx)("input",{className:bt.a.swapFromAmount,pattern:"[0-9]*[.]?[0-9]*",placeholder:"0.00",value:c.fromAmount,onChange:k}),Object(pt.jsx)("button",{className:bt.a.maxButton,onClick:g,children:"MAX"}),Object(pt.jsxs)("div",{className:bt.a.swapFromCryptoSelector,children:[Object(pt.jsx)("span",{className:bt.a.swapFromCryptoName,children:c.fromCrypto}),Object(pt.jsx)("div",{className:"".concat(bt.a.swapFromCryptoIcon," ").concat(bt.a["crypto"+c.fromCrypto])}),Object(pt.jsx)("button",{className:bt.a.downArrow,onClick:R})]})]}),Object(pt.jsx)("div",{className:bt.a.toArrow}),Object(pt.jsxs)("div",{className:bt.a.swapToContainer,children:[Object(pt.jsx)("span",{className:bt.a.swapToText,children:"To"}),Object(pt.jsxs)("span",{className:bt.a.swapToBalance,children:["Balance: ",j]}),Object(pt.jsx)("input",{className:bt.a.swapToAmount,tabIndex:-1,placeholder:"0.00",readOnly:!0,value:w}),Object(pt.jsxs)("div",{className:bt.a.swapToCryptoSelector,children:[Object(pt.jsx)("span",{className:bt.a.swapToCryptoName,children:c.toCrypto}),Object(pt.jsx)("div",{className:"".concat(bt.a.swapToCryptoIcon," ").concat(bt.a["crypto"+c.toCrypto])}),Object(pt.jsx)("button",{className:bt.a.downArrow,onClick:V})]})]})]}),Object(pt.jsx)(_t,{className:bt.a.swapFromCryptoSelectModal,isOpen:I,title:"From",prices:e,balances:a,onClose:H,onSelectListItem:P}),Object(pt.jsx)(_t,{className:bt.a.swapToCryptoSelectModal,isOpen:F,title:"To",prices:e,balances:a,onClose:M,onSelectListItem:U}),Object(pt.jsx)("button",{className:bt.a.reviewButton,disabled:T,onClick:L,children:"Review"})]})},Ot=function(t){var e=t.prices,a=t.uiState,c=t.onChangeSwapStatus,o=t.onSwap,n=Object(i.useState)(""),r=Object(mt.a)(n,2),s=r[0],p=r[1],l=Object(i.useState)(""),u=Object(mt.a)(l,2),C=u[0],y=u[1],m=Object(i.useState)(""),j=Object(mt.a)(m,2),b=j[0],d=j[1],_=Object(i.useState)(""),w=Object(mt.a)(_,2),O=w[0],S=w[1],N=Object(i.useState)(""),T=Object(mt.a)(N,2),v=T[0],x=T[1];Object(i.useEffect)((function(){return p(f()(a.fromAmount).format("0,0.00[000000]"))}),[a.fromAmount]),Object(i.useEffect)((function(){if((f()(a.fromAmount).value()||0)>0){var t=f()(a.fromAmount).multiply(e[a.fromCrypto][a.toCrypto]);y(t.format("0.00[000000]")),d(t.subtract(D[a.toCrypto]).format("0.00[000000]"))}else y("0.00"),d("0.00")}),[e,a.fromAmount,a.fromCrypto,a.toCrypto,y]),Object(i.useEffect)((function(){return S(f()(D[a.toCrypto]).format("0,0.00[000000]"))}),[a.toCrypto]);var h=Object(i.useCallback)((function(){c(B.APPROVING),setTimeout((function(){return c(B.APPROVED)}),2e3)}),[c]),I=Object(i.useCallback)((function(){c(B.CONFIRMING),setTimeout(o,2e3)}),[c,o]),A=Object(i.useCallback)((function(){return c(B.INITIAL)}),[c]);return a.status!==B.APPROVING&&a.status!==B.CONFIRMING||setTimeout((function(){return x(v.length>=3?"":v+".")}),300),Object(pt.jsxs)("div",{className:bt.a.swapBody,children:[Object(pt.jsxs)("div",{className:bt.a.swapInnerBody,children:[Object(pt.jsxs)("div",{className:bt.a.swapFromCryptoContainer,children:[Object(pt.jsxs)("div",{className:bt.a.swapFromCryptoAmountContainer,children:[Object(pt.jsx)("div",{className:"".concat(bt.a.swapFromCryptoIcon," ").concat(bt.a["crypto"+a.fromCrypto])}),Object(pt.jsx)("span",{className:bt.a.swapFromCryptoAmount,children:s})]}),Object(pt.jsx)("span",{className:bt.a.swapFromCryptoName,children:a.fromCrypto})]}),Object(pt.jsx)("div",{className:bt.a.toArrow}),Object(pt.jsxs)("div",{className:bt.a.swapToCryptoContainer,children:[Object(pt.jsxs)("div",{className:bt.a.swapToCryptoAmountContainer,children:[Object(pt.jsx)("div",{className:"".concat(bt.a.swapToCryptoIcon," ").concat(bt.a["crypto"+a.toCrypto])}),Object(pt.jsx)("span",{className:bt.a.swapToCryptoAmount,children:C})]}),Object(pt.jsx)("span",{className:bt.a.swapToCryptoName,children:a.toCrypto})]}),Object(pt.jsx)("span",{className:bt.a.swapDetailTitle,children:"Details"}),Object(pt.jsxs)("div",{className:bt.a.swapDetailContainer,children:[Object(pt.jsxs)("div",{className:bt.a.swapDetailReceivedContainer,children:[Object(pt.jsx)("span",{className:bt.a.swapDetailReceivedTitle,children:"Minimum recieved"}),Object(pt.jsxs)("span",{className:bt.a.swapDetailReceivedAmount,children:[b," ",a.toCrypto]})]}),Object(pt.jsxs)("div",{className:bt.a.swapDetailFeeContainer,children:[Object(pt.jsx)("span",{className:bt.a.swapDetailFeeTitle,children:"Network & Protocol fees"}),Object(pt.jsxs)("span",{className:bt.a.swapDetailFeeAmount,children:[O," ",a.toCrypto]})]})]})]}),a.status===B.REVIEW&&Object(pt.jsx)("button",{className:bt.a.approveButton,onClick:h,children:"Approve Swap"}),a.status===B.APPROVING&&Object(pt.jsxs)("button",{className:bt.a.approveButton,disabled:!0,children:["Approve in wallet",v]}),a.status===B.APPROVED&&Object(pt.jsx)("button",{className:bt.a.confirmButton,onClick:I,children:"Confirm Swap"}),a.status===B.CONFIRMING&&Object(pt.jsxs)("button",{className:bt.a.confirmButton,disabled:!0,children:["Confirm in wallet",v]}),Object(pt.jsx)("button",{className:bt.a.cancelButton,onClick:A,children:"Cancel"})]})},St=function(t){var e,a=t.prices,c=t.balances,o=t.uiState,n=t.onChangeSwapStatus,r=t.onChangeFromCrypto,s=t.onChangeFromAmount,p=t.onChangeToCrypto,l=t.onSwap,u=Object(i.useState)(""),C=Object(mt.a)(u,2),y=C[0],m=C[1];Object(i.useEffect)((function(){switch(o.status){case B.INITIAL:m("Swap");break;case B.REVIEW:case B.APPROVING:m("Approve Swap");break;case B.APPROVED:case B.CONFIRMING:m("Confirm Swap")}}),[o.status]);var j=Object(i.useCallback)((function(){return n(B.INITIAL)}),[n]);return Object(pt.jsxs)("div",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," ").concat(bt.a.cryptoSwap," ").concat(bt.a["status"+o.status]),children:[Object(pt.jsxs)("div",{className:bt.a.swapHeader,children:[Object(pt.jsx)("span",{className:bt.a.swapTitle,children:y}),o.status!==B.INITIAL&&Object(pt.jsx)("button",{className:bt.a.closeButton,onClick:j})]}),Object(pt.jsxs)("div",{className:"".concat(bt.a.swapBodyContainer," ").concat(bt.a["status"+o.status]),children:[o.status===B.INITIAL&&Object(pt.jsx)(wt,{balances:c,prices:a,uiState:o,onChangeSwapStatus:n,onChangeFromCrypto:r,onChangeFromAmount:s,onChangeToCrypto:p}),o.status!==B.INITIAL&&Object(pt.jsx)(Ot,{balances:c,prices:a,uiState:o,onChangeSwapStatus:n,onSwap:l})]})]})},ft=a(35),Nt=a.n(ft),Tt=function(){var t=ct(),e=ot((function(t){return t.wallet.connectedAddress})),a=ot((function(t){return t.wallet.balances})),c=ot((function(t){return t.price})),o=ot((function(t){return t.swapUI})),n=Object(i.useCallback)((function(){return t(F())}),[t]),r=Object(i.useCallback)((function(e){return t(q(e))}),[t]),s=Object(i.useCallback)((function(e){return t(z(e))}),[t]),p=Object(i.useCallback)((function(e){return t(J(e))}),[t]),l=Object(i.useCallback)((function(e){return t(Z(e))}),[t]),u=Object(i.useCallback)((function(e){t(z(e)),t(J(""))}),[t]),C=Object(i.useCallback)((function(){var e=o.fromCrypto,a=o.fromAmount,n=o.toCrypto,r=f()(a).multiply(c[e][n]).value()||0;t(V({fromCrypto:e,fromAmount:f()(a).value()||0,toCrypto:n,toAmount:r})),t(X())}),[t,c,o]);return Object(i.useEffect)((function(){if(e){n();var t=setInterval(n,3e4);return function(){return clearInterval(t)}}}),[e,n]),e?Object(pt.jsx)("div",{className:Nt.a.swapPage,children:Object(pt.jsxs)("div",{className:Nt.a.innerContainer,children:[Object(pt.jsx)(yt,{className:Nt.a.cryptoBalances,balances:a,prices:c,status:o.status,onSelectCrypto:u}),Object(pt.jsx)(St,{className:Nt.a.cryptoSwap,balances:a,prices:c,uiState:o,onChangeSwapStatus:r,onChangeFromCrypto:s,onChangeFromAmount:p,onChangeToCrypto:l,onSwap:C})]})}):Object(pt.jsx)(j.a,{to:"/"})},vt=(a(90),function(){var t=ct();return Object(i.useEffect)((function(){t(U())}),[t]),Object(pt.jsx)(m.a,{history:$,children:Object(pt.jsxs)(j.d,{children:[Object(pt.jsx)(j.b,{path:"/swap",render:function(){return Object(pt.jsx)(Tt,{})}}),Object(pt.jsx)(j.b,{path:"/",render:function(){return Object(pt.jsx)(lt,{})}})]})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));y.a.render(Object(pt.jsx)(u.a.StrictMode,{children:Object(pt.jsx)(at.a,{store:et,children:Object(pt.jsx)(vt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.ba545c57.chunk.js.map